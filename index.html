<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="style.css">
    <!-- Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <title>Sensorial</title>
</head>

<body>
    <div class="app container-fluid p-0">
        <!-- TOPO -->
        <header class="topbar">
            <div class="topbar-left">
                <img src="" alt="Logo" class="logo" />
            </div>
            <div class="topbar-right">
                <div class="topbar-settings">
                    <img src="" alt="Configurações" />
                </div>
                <div class="topbar-avatar">
                    <img src="" alt="Avatar do usuário" />
                </div>
            </div>
        </header>

        <div class="layout">
            <!-- MENU LATERAL -->
            <aside class="sidebar" id="sidebar">
                <div class="sidebar-toggle">
                    <button type="button" class="sidebar-toggle-btn" id="toggleMenu"></button>
                </div>

                <div class="sidebar-courses">
                    <div class="course-card active">
                        <div class="course-icon">
                            <img src="imgs/eng_soft.jpeg" alt="Ícone Engenharia de software" />
                        </div>
                        <div class="course-info">
                            <span class="course-title">Engenharia de software</span>
                            <span class="course-tag-live">
                                LIVE
                            </span>
                        </div>
                    </div>

                    <div class="course-card">
                        <div class="course-icon">
                            <img src="imgs/si.jpeg" alt="Ícone Fundamentos de SI" />
                        </div>
                        <div class="course-info">
                            <span class="course-title">Fundamentos de Sistemas de informação</span>
                        </div>
                    </div>

                    <div class="course-card">
                        <div class="course-icon">
                            <img src="imgs/teoria.jpeg" alt="Ícone Teoria da computação" />
                        </div>
                        <div class="course-info">
                            <span class="course-title">Teoria da computação</span>
                        </div>
                    </div>

                    <div class="course-card">
                        <div class="course-icon">
                            <img src="imgs/arc_org.jpeg" alt="Ícone Organização e arquitetura" />
                        </div>
                        <div class="course-info">
                            <span class="course-title">Organização e arquitetura de computadores</span>
                        </div>
                    </div>
                </div>
            </aside>

            <!-- BARRA DE REDIMENSIONAMENTO -->
            <div class="sidebar-resizer" id="sidebarResizer"></div>

            <!-- CONTEÚDO PRINCIPAL -->
            <main class="main">
                <!-- MENU INTERNO -->
                <nav class="subnav">
                    <div class="subnav-item active">Arquivos anexos</div>
                    <div class="subnav-item">Materiais</div>
                    <div class="subnav-item">Aulas Gravadas</div>
                    <div class="subnav-item">Quiz</div>
                </nav>

                <!-- ÁREA DO CHAT -->
                <section class="chat-area">
                    <div class="chat-bg">
                        <img src="" alt="Marca d'água" />
                    </div>

                    <div class="chat-messages">
                        <div class="message">
                            <div class="message-avatar">
                                <img src="" alt="Professor" />
                            </div>
                            <div class="message-bubble">
                                Todos conseguem me escutar bem?
                            </div>
                        </div>

                        <div class="message">
                            <div class="message-avatar">
                                <img src="" alt="Aluno" />
                            </div>
                            <div class="message-bubble me">
                                Sim, professor!
                            </div>
                        </div>

                        <div class="message">
                            <div class="message-avatar">
                                <img src="" alt="Aluno" />
                            </div>
                            <div class="message-bubble me">
                                Tudo certo aqui também.
                            </div>
                        </div>
                    </div>

                    <!-- INPUT DO CHAT -->
                    <div class="chat-input-wrapper">
                        <div class="chat-input-inner">
                            <input type="text" class="chat-input" placeholder="Digite sua mensagem..." />
                            <button class="chat-input-btn btn btn-primary">Enviar</button>
                        </div>
                    </div>
                </section>
            </main>
        </div>
    </div>

    <script>
        const sidebar = document.getElementById("sidebar");
        const toggleBtn = document.getElementById("toggleMenu");
        const resizer = document.getElementById("sidebarResizer");

        const MIN_WIDTH = 80;
        const MAX_WIDTH = 420;

        // Botão de abrir/fechar
        if (toggleBtn && sidebar) {
            toggleBtn.addEventListener("click", () => {
                const currentWidth = sidebar.offsetWidth;
                if (currentWidth > MIN_WIDTH + 20) {
                    sidebar.style.width = MIN_WIDTH + "px";
                    sidebar.classList.add("narrow");
                } else {
                    sidebar.style.width = "400px";
                    sidebar.classList.remove("narrow");
                }
            });
        }

        // Redimensionamento pelo arraste
        if (resizer && sidebar) {
            let isResizing = false;
            let startX = 0;
            let startWidth = 0;

            const onMouseDown = (e) => {
                isResizing = true;
                startX = e.clientX;
                startWidth = sidebar.offsetWidth;
                document.addEventListener("mousemove", onMouseMove);
                document.addEventListener("mouseup", onMouseUp);
            };

            const onMouseMove = (e) => {
                if (!isResizing) return;
                const dx = e.clientX - startX;
                let newWidth = startWidth + dx;
                if (newWidth < MIN_WIDTH) newWidth = MIN_WIDTH;
                if (newWidth > MAX_WIDTH) newWidth = MAX_WIDTH;
                sidebar.style.width = newWidth + "px";
                if (newWidth <= MIN_WIDTH + 20) {
                    sidebar.classList.add("narrow");
                } else {
                    sidebar.classList.remove("narrow");
                }
            };

            const onMouseUp = () => {
                isResizing = false;
                document.removeEventListener("mousemove", onMouseMove);
                document.removeEventListener("mouseup", onMouseUp);
            };

            resizer.addEventListener("mousedown", onMouseDown);
        }
    </script>
</body>
</html>
